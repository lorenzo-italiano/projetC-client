\hypertarget{_command_8c_source}{}\doxysection{Command.\+c}
\label{_command_8c_source}\index{/Users/tom/Documents/partageGit/projetC/projetC-\/client/src/command/Command.c@{/Users/tom/Documents/partageGit/projetC/projetC-\/client/src/command/Command.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00001}\mbox{\hyperlink{struct_command}{00001}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_command}{Command}} \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00002}00002     \textcolor{keywordtype}{char} *name;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00003}00003     \textcolor{keywordtype}{char} *regex;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00005}00005 \};}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00006}00006 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_command}{Command}} \mbox{\hyperlink{struct_command}{Command}};}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00015}00015 \mbox{\hyperlink{struct_command}{Command}} *createCommand (\textcolor{keywordtype}{char} *name, \textcolor{keywordtype}{char} *regex) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00016}00016     \mbox{\hyperlink{struct_command}{Command}} *command = (\mbox{\hyperlink{struct_command}{Command}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_command}{Command}}));}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00018}00018     command-\/>name = name;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00019}00019     command-\/>regex = regex;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00021}00021     \textcolor{keywordflow}{return} command;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00022}00022 \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00024}00024 \mbox{\hyperlink{struct_command}{Command}} *commandList[NB\_COMMAND];}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00028}00028 \textcolor{keywordtype}{void} initCommandList () \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00029}00029     commandList[0] = createCommand(\textcolor{stringliteral}{"{}disconnect"{}}, \textcolor{stringliteral}{"{}\string^/disconnect *\(\backslash\)n\$"{}});          \textcolor{comment}{// Déconnecte l'utilisateur.}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00030}00030     commandList[1] = createCommand(\textcolor{stringliteral}{"{}file"{}}, \textcolor{stringliteral}{"{}\string^/file +([\string^ ]+) +([\string^ ]+) *\(\backslash\)n\$"{}});    \textcolor{comment}{// Envoi un fichier.}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00031}00031     commandList[2] = createCommand(\textcolor{stringliteral}{"{}files"{}}, \textcolor{stringliteral}{"{}\string^/files +-\/(c|s) *\(\backslash\)n\$"{}});            \textcolor{comment}{// Liste des fichier disponibles dans le répertoire client ou serveur. /files -\/c || -\/s}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00032}00032     commandList[3] = createCommand(\textcolor{stringliteral}{"{}join"{}}, \textcolor{stringliteral}{"{}\string^/join +([0-\/9]\{1,2\}) *\(\backslash\)n\$"{}});        \textcolor{comment}{// Rejoint le channel spécifié.}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00033}00033     \textcolor{comment}{// Don't forger to update NB\_COMMAND.}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00034}00034 \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00041}00041 \textcolor{keywordtype}{int} isCommand (\textcolor{keywordtype}{char} *message) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00042}00042     \textcolor{keywordflow}{return} isMatch(message, \textcolor{stringliteral}{"{}\string^/"{}});}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00043}00043 \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00052}00052 \mbox{\hyperlink{struct_command}{Command}} *getCommand (\textcolor{keywordtype}{char} *message) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00053}00053     \textcolor{keywordflow}{if} (isCommand(message)) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00054}00054         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < NB\_COMMAND; i++) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00055}00055             \textcolor{keywordflow}{if} (isMatch(message, commandList[i]-\/>regex)) \{}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00056}00056                 \textcolor{keywordflow}{if} (isDebugMode) \{ printf(\textcolor{stringliteral}{"{}Command : \%s. \(\backslash\)n"{}}, commandList[i]-\/>name); \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00057}00057                 \textcolor{keywordflow}{return} commandList[i];}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00058}00058             \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00059}00059         \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00060}00060     \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00061}00061     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00062}00062 \}}
\DoxyCodeLine{\Hypertarget{_command_8c_source_l00063}00063 }

\end{DoxyCode}
